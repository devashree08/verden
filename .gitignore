# Tool contract checks (manual smoke)

## get_all_apps_score_by_user
**Request**
```json
{ "params": { "limit": 1 } }
```
**Expect**
- 200 OK
- JSON: `{ "rows": [ ... ] }`
- rows length <= 1
- When `report_month` omitted → row.ReportMonth equals the latest snapshot month in the DB.

**Request (specific month)**
```json
{ "params": { "report_month": "Feb 2025", "vast": ["101","202"], "limit": 100 } }
```
**Expect**
- report_month normalized to `"2025-02-01 00:00:00"`
- rows only include those VASTs (and only rows for that month)

---

## get_all_apps_value_by_user
**Request**
```json
{ "params": { "report_month": "2025-07", "limit": 5 } }
```
**Expect**
- report_month normalized to `"2025-07-01 00:00:00"`
- rows length <= 5

---

## get_vast_general_by_user
**Request**
```json
{ "params": { "vast": "123,456", "limit": 5 } }
```
**Expect**
- rows length <= 5
- Includes decommissioned VASTs as applicable

---

## Input normalization edge cases
- `vast = ""` or `[]` → treated as `None` (no filter)
- `report_month = "  "` → treated as `None`
- `report_month` invalid (e.g., `"Febtober 2025"`) → treated as `None` (proc uses latest)
