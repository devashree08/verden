// Models/AttributeArtifactsDtos.cs
namespace YourApp.Api.Models.AttributeArtifacts
{
    public sealed class MutateRequest
    {
        public string Action { get; set; } = default!;  // "Link" | "Unlink"
        public int OrgID { get; set; }
        public int Csf2SubcategoryID { get; set; }
        public int MaturityLevel { get; set; }

        public int? Csf1SubcategoryID { get; set; }     // baseline only
        public int? AttributeNum { get; set; }          // baseline only
        public int? CustomAttributeNum { get; set; }    // custom only

        public string? Url { get; set; }                // required for Link; or pass ArtifactLinkID for Unlink
        public string? Title { get; set; }              // ignored for Unlink
        public int? ArtifactLinkID { get; set; }        // Unlink convenience
    }

    public sealed class ArtifactItem
    {
        public int ArtifactLinkID { get; set; }
        public string Url { get; set; } = default!;
        public string? Title { get; set; }
        public string? CreatedBy { get; set; }
        public DateTime CreatedAt { get; set; }
        public DateTime? UpdatedAt { get; set; }
    }

    public sealed class ReuseArtifactItem
    {
        public string Url { get; set; } = default!;
        public string? Title { get; set; }
        public DateTime LastUsedAt { get; set; }
        public int Uses { get; set; }
    }

    public sealed class ArtifactListQuery
    {
        public string Mode { get; set; } = default!; // "Attribute" | "ReusePool"
        public int OrgID { get; set; }
        public int Csf2SubcategoryID { get; set; }

        // Mode=Attribute
        public int? MaturityLevel { get; set; }
        public int? Csf1SubcategoryID { get; set; }
        public int? AttributeNum { get; set; }
        public int? CustomAttributeNum { get; set; }

        // Mode=ReusePool
        public string? Q { get; set; }
    }

    public sealed class BulkExportRequest
    {
        public List<int>? OrgIDs { get; set; }
        public List<int>? Csf2SubcategoryIDs { get; set; }
    }

    public sealed class BulkExportRow
    {
        public int OrgID { get; set; }
        public int Csf2SubcategoryID { get; set; }
        public int MaturityLevel { get; set; }
        public int? Csf1SubcategoryID { get; set; }
        public int? AttributeNum { get; set; }
        public int? CustomAttributeNum { get; set; }
        public string? Artifacts { get; set; } // newline-delimited
    }
}
